{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '22615360-5cbe46b430b53ed17aa097d2d';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nconst searchParams = new URLSearchParams({\n  key: API_KEY,\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true\n});\n\nexport function fetchPhotos(query) {\n  return fetch(`${BASE_URL}?${searchParams}&q=${query}`).then(\n    (response) => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    }\n  );\n}","const gallery = document.querySelector('.gallery');\n\nexport function renderPhotos(images) {\n  let galleryHTML = '';\n\n  images.forEach(image => {\n    galleryHTML += `\n    <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n            <img\n                class=\"gallery-image\"\n                src=\"${image.webformatURL}\"\n                data-source=\"${image.largeImageURL}\"\n                alt=\"${image.tags}\"\n            />\n        </a>\n        <div class=\"stats\">\n          <div>Likes<span>${image.likes}</span></div>\n          <div>Views<span>${image.views}</span></div>\n          <div>Comments<span>${image.comments}</span></div>\n          <div>Downloads<span>${image.downloads}</span></div>\n        </div>\n    </li>\n  `;\n  });\n\n  gallery.innerHTML = galleryHTML;\n}\n\nexport function clearGallery() {\n  gallery.innerHTML = '';\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { fetchPhotos } from './js/pixabay-api.js';\nimport { clearGallery, renderPhotos } from './js/render-functions.js';\n\niziToast.settings({\n  position: 'topRight',\n  progressBar: false,\n  messageColor: '#FFFFFF',\n  icon: '',\n  close: false\n})\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const lightbox = new SimpleLightbox('.gallery a', { captionsData: 'alt', captionDelay: 250 });\n\n  const fetchPhotosBtn = document.querySelector('.btn');\n  const searchInput = document.querySelector('.search');\n  const loader = document.querySelector('.loader');\n\n  const errorMessage = 'Sorry, there are no images matching your search query. Please try again!';\n\n  fetchPhotosBtn.addEventListener('click', () => {\n    const query = searchInput.value.trim();\n    if (query === '') {\n      return;\n    }\n    clearGallery();\n    loader.style.display = 'block';\n\n    fetchPhotos(query)\n      .then((photos) => {\n        if (photos.hits.length === 0) {\n          throw new Error(errorMessage)\n        } else {\n          loader.style.display = 'none';\n          renderPhotos(photos.hits);\n          lightbox.refresh();\n          searchInput.value = '';\n        }\n      })\n      .catch(() => {\n        loader.style.display = 'none';\n        searchInput.value = '';\n        iziToast.error({ message: errorMessage });\n      });\n  });\n});\n\n\n"],"names":["API_KEY","BASE_URL","searchParams","fetchPhotos","query","response","gallery","renderPhotos","images","galleryHTML","image","clearGallery","iziToast","lightbox","SimpleLightbox","fetchPhotosBtn","searchInput","loader","errorMessage","photos"],"mappings":"wvBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEXC,EAAe,IAAI,gBAAgB,CACvC,IAAKF,EACL,WAAY,QACZ,YAAa,aACb,WAAY,EACd,CAAC,EAEM,SAASG,EAAYC,EAAO,CACjC,OAAO,MAAM,GAAGH,CAAQ,IAAIC,CAAY,MAAME,CAAK,EAAE,EAAE,KACpDC,GAAa,CACZ,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACjB,CACL,CACA,CCnBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAE1C,SAASC,EAAaC,EAAQ,CACnC,IAAIC,EAAc,GAElBD,EAAO,QAAQE,GAAS,CACtBD,GAAe;AAAA;AAAA,wCAEqBC,EAAM,aAAa;AAAA;AAAA;AAAA,uBAGpCA,EAAM,YAAY;AAAA,+BACVA,EAAM,aAAa;AAAA,uBAC3BA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,4BAILA,EAAM,KAAK;AAAA,4BACXA,EAAM,KAAK;AAAA,+BACRA,EAAM,QAAQ;AAAA,gCACbA,EAAM,SAAS;AAAA;AAAA;AAAA,GAI/C,CAAG,EAEDJ,EAAQ,UAAYG,CACtB,CAEO,SAASE,GAAe,CAC7BL,EAAQ,UAAY,EACtB,CCtBAM,EAAS,SAAS,CAChB,SAAU,WACV,YAAa,GACb,aAAc,UACd,KAAM,GACN,MAAO,EACT,CAAC,EAED,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAAE,aAAc,MAAO,aAAc,GAAG,CAAE,EAEtFC,EAAiB,SAAS,cAAc,MAAM,EAC9CC,EAAc,SAAS,cAAc,SAAS,EAC9CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAe,2EAErBH,EAAe,iBAAiB,QAAS,IAAM,CAC7C,MAAMX,EAAQY,EAAY,MAAM,KAAI,EAChCZ,IAAU,KAGdO,IACAM,EAAO,MAAM,QAAU,QAEvBd,EAAYC,CAAK,EACd,KAAMe,GAAW,CAChB,GAAIA,EAAO,KAAK,SAAW,EACzB,MAAM,IAAI,MAAMD,CAAY,EAE5BD,EAAO,MAAM,QAAU,OACvBV,EAAaY,EAAO,IAAI,EACxBN,EAAS,QAAO,EAChBG,EAAY,MAAQ,EAE9B,CAAO,EACA,MAAM,IAAM,CACXC,EAAO,MAAM,QAAU,OACvBD,EAAY,MAAQ,GACpBJ,EAAS,MAAM,CAAE,QAASM,CAAc,CAAA,CAChD,CAAO,EACP,CAAG,CACH,CAAC"}